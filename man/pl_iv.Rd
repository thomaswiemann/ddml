% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pl_iv.R
\name{pl_iv}
\alias{pl_iv}
\title{Compute LIE-conform partially linear IV estimators w/o sample splitting.}
\usage{
pl_iv(
  y,
  D,
  Z,
  X = matrix(1, nobs(y)),
  models,
  models_DXZ = models,
  models_DX = models_DXZ,
  ens_type = c("average"),
  cv_folds = 5,
  enforce_LIE = TRUE,
  setup_parallel = list(type = "dynamic", cores = 1),
  silent = F
)
}
\arguments{
\item{y}{A response vector.}

\item{D}{An endogeneous variable vector.}

\item{Z}{An instrumental variable vector or matrix.}

\item{X}{A control matrix.}

\item{models}{May take one of two forms, depending on whether a single model
should be used for residualization, or whether an ensemble procedure
should be employed.
If a single model should be used, \code{models} is a list with two named
elements:
\itemize{
    \item{\code{what} The function used to trained the model. The
        function must be such that it predicts a named input \code{y}
        using a named input \code{X}.}
    \item{\code{args} Optional arguments to be passed to \code{what}.}
}
If an ensemble should be used, \code{models} is a list of lists, each
containing four named elements:
\itemize{
    \item{\code{fun} The function used to trained the model. The
        function must be such that it predicts a named input \code{y}
        using a named input \code{X}.}
    \item{\code{assign_X} A vector of indices corresponding to features
        in \code{X} that should be used for training.}
    \item{\code{assign_Z} An optional vector of indices corresponding to
        instruments in \code{Z} that should be used for training.}
    \item{\code{args} Optional arguments to be passed to \code{fun}}
}}

\item{ens_type}{A string indicating the type of ensemble. Multiple types may
be passed in form of a vector of strings.}

\item{cv_folds}{The number for cross-validation folds.}

\item{setup_parallel}{An list containing details on the parallelization of
\code{crossval}.}

\item{silent}{A boolean indicating whether current models and folds should be
printed to the console.}

\item{models_FS}{Same as \code{models}. May be used to consider an seperate
set of models to be used for the estimation of E[D|X,Z] (first stage).}
}
\value{
\code{pl_iv} returns an object of S3 class
    \code{pl_iv}.

An object of class \code{pl_iv}is a list containig the
    following components:
\describe{
\item{\code{coef}}{A vector with ...}
    \item{\code{...}}{...}
}
}
\description{
Compute LIE-conform partially linear IV estimators w/o sample splitting.
}
\examples{
# Add example here.

}
